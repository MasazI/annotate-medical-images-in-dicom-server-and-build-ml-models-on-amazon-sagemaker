<!DOCTYPE HTML>
<html>
<head>
    <script src="https://assets.crowd.aws/crowd-html-elements.js"></script>
</head>
<body>
    <!-- CSS chunk from react app -->
    <link rel="stylesheet" href="https://s3.amazonaws.com/BUCKET_NAME/web/static/css/[number].[hash].chunk.css">
    <link rel="stylesheet" href="https://s3.amazonaws.com/BUCKET_NAME/web/static/css/main.[hash].chunk.css">
    
    <!-- Bootstrap css-->
    <link
        rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous"Added 
    />
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0="
        crossorigin="anonymous"
    />

    <div id='studyid' style="display: none;">
        {{ task.input.studyID }}
      </div>
      <div id='seriesid' style="display: none;">
        {{ task.input.seriesID }}
      </div>
      <div id="labels" style="display:none;">
        {{ task.input.labels }}
    </div>

      <!-- Custom annotation user interface is rendered here -->
      <div id="root"></div>
      <crowd-form>
        <!-- Prevent crowd-form from creating its own button -->
        <crowd-button form-action="submit" style="display: none;"></crowd-button>

        <input name="annotations" id="annotations" type="hidden">

        <div class="right">
            <crowd-button id="submitButton" variant="primary">Submit</crowd-button>
        </div>
        
    </crowd-form>

    <script>
        document.querySelector('crowd-form').onsubmit = function() {
            document.getElementById('generateAnnotation').click(null);
            document.getElementById('annotations').value = JSON.stringify(JSON.parse(document.querySelector('pre').innerText));
        };
    
        document.getElementById('submitButton').onclick = function() {
            document.querySelector('crowd-form').submit();
        };
    </script>
    <style>
        .right {
            display: flex;
            position: relative;
            padding: 15px;
            justify-content: right;
        }
    </style>
    
    <!-- JS chunk from react app -->
    <script src="https://s3.amazonaws.com/BUCKET_NAME/web/static/js/[number].[hash].chunk.js"></script>
    <script src="https://s3.amazonaws.com/BUCKET_NAME/web/static/js/[number].[hash].chunk.js"></script>
    <script src="https://s3.amazonaws.com/BUCKET_NAME/web/static/js/main.[hash].chunk.js"></script>
    <script src="https://s3.amazonaws.com/BUCKET_NAME/web/static/js/runtime-main.[hash].js"></script>
</body>
</html>